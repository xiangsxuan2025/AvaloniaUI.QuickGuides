<Window xmlns="https://github.com/avaloniaui"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:vm="using:BindingConvertersExample.ViewModels"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:converters="clr-namespace:BindingConvertersExample.Converters"
		mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
		x:Class="BindingConvertersExample.Views.MainWindow"
		x:DataType="vm:MainWindowViewModel"
		Icon="/Assets/avalonia-logo.ico"
		Title="BindingsAndConverters">
	<Window.Resources>
		<!--
		为什么Converters写在Window.Resources里面?
		这样，窗口内的所有控件, 都可以通过{StaticResource ResourceKey}来引用这些转换器。

		最佳实践建议
		单个窗口 使用 → Window.Resources
		整个应用 使用 → Application.Resources, 如：BooleanToVisibilityConverter 这种很通用的转换器
		特定用户控件 使用 → UserControl.Resources
		局部 使用 → 最近容器的Resources
		-->
		<converters:BirthdateToAgeConverter x:Key="BirthdateToAgeConverter"/>
		<converters:AgeToPluralConverter x:Key="AgeToPluralConverter"/>
	</Window.Resources>
	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
		to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:MainWindowViewModel />
	</Design.DataContext>

	<Panel VerticalAlignment="Center" HorizontalAlignment="Center">
		<StackPanel Spacing="10">
			<TextBlock FontWeight="Bold">Enter your date of birth here.</TextBlock>
			<DatePicker SelectedDate="{Binding Age, Converter={StaticResource BirthdateToAgeConverter}, Mode=OneWayToSource}"/>
			<TextBlock>
				<Run>Your age is </Run>
				<Run Text="{Binding Age}"/>
				<Run>year</Run><Run Text="{Binding Age, Converter={StaticResource AgeToPluralConverter}, Mode=OneWay}"/>
				<Run>old today.</Run>
			</TextBlock>
		</StackPanel>
	</Panel>

</Window>